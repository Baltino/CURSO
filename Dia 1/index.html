<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Dia 1</title>
  </head>
  <body>
   
    
	<link rel="stylesheet" href="css/default.css" type="text/css" />
	<script src='https://www.google.com/jsapi' type='text/javascript'></script>

    <script type='text/javascript'>
      //<![CDATA[
        google.load("jquery", "1.7.1");
      //]]>
    </script>
   
   <script>
		$(document).ready(function(){
			alert("La página ha terminado de cargarse");
			$('#alias').focus();
			
			$("#response").click(function () {
				  $(this).effect("explode", {}, 3000);
			});
		
			
		});
		
		
		
		function clickBoton(){
			//$.post("api/dispatcher.php", { service: "welcome.hello", params: '{"name": "[input alias on textbox]"}'} );
	
				$.post("api/dispatcher.php",
				{service: 'welcome.hello', params: {'name': $('#alias').val()}},function(data) {
						$('#response').html('');
					   
					   $('#response').append(data);
					   
					   $('#response').show('fast');
					
					   agregarNombre();
					   
					 });
				$('#response').ajaxError(function(event, request, settings) {
							$('#response').html('');
							$('#response').append("Error "+settings.url+": "+ request.responseText);
							$('#response').show('fast');
							$('#response').css('background','red');
						});
		
			
		}
		function agregarNombre(){
			 
			 $('#response').prepend('<div id="nombre">Maxi</div>');
			 $('#response').css('background','blue');
			$('#response').effect("highlight", {}, 6000);
			
		}
    </script>
	
	<button onclick="clickBoton()"> Botón </button>
	<input type="text" size="50" id="alias"/>
	
	<div id="response"> </div>
  </body>
</html>