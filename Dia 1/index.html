<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Dia 1</title>
	
	    
	<link rel="stylesheet" href="css/default.css" type="text/css" />
	  <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
	<script src='https://www.google.com/jsapi' type='text/javascript'></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>

   
   
   </head>
  <body>
   

	
	<button onclick="clickBoton()"> Botón </button>
	<input type="text" size="50" id="alias"/>
	
	<div id="response"> </div>
	
  </body>
  
   <script>
		$(document).ready(function(){
			alert("La página ha terminado de cargarse");
			$('#alias').focus();
			
	
			
		
			
		});
		
		
		
		function clickBoton(){
			//$.post("api/dispatcher.php", { service: "welcome.hello", params: '{"name": "[input alias on textbox]"}'} );
				var response_div = $('#response');
			/*	$.post("api/dispatcsher.php",
				{service: 'welcome.hello', params: {'name': $('#alias').val()}},function(data) {
						response_div.html('');
					   
					   response_div.append(data);
					   
					   response_div.show('fast');
					
					   
					   
					 });
					 
					 //no es conveniente debido a que cualquer error ejecuta el siguente codigo
				response_div.ajaxError(function(event, request, settings) {
							response_div.html('');
							response_div.append("Error "+settings.url+": "+ request.responseText);
							response_div.show('fast');
							response_div.css('background','red');
						});
		
			*/
			$.ajax({
				url: "api/dispatcher.php",
				data: {service: 'welcome.hello', params: {'name': $('#alias').val()}},
				success: function(data) {
						response_div.html('');
					   
					   response_div.append(data);
					   
					   response_div.show('fast');
					
					   resaltarNombre();
					   
					 },
				error: function(jqXHR, textStatus, errorThrown) {
							response_div.html('');
							response_div.append("Error "+errorThrown+": "+ textStatus);
							response_div.show('fast');
							response_div.css('background','red');
						}
				});
		}
		function resaltarNombre(){
			 
			 
			
			$("div:contains('maxi')").effect("highlight", {}, 6000);
			
		}
    </script>
  
</html>